/**
 * Created by rajasekhar on 01-Jul-17.
 */
'use strict';
const winston = require('winston');
const fs = require('fs');
const env = process.env.NODE_ENV || 'development'; // need assign process env
const logDir = 'logs';
// Create the log directory if it does not exist
if (!fs.existsSync(logDir)) {
    fs.mkdirSync(logDir);
}
var getUserID  =  function () {
    //TODO here to get this and also add a task ticket to fix this once it is integrated with SSO @CENTRAL-976
    return "Test-admin@247-inc.com" // need to get proper user once application intigratted with SSO
}
const logger = new (winston.Logger)({
    transports: [
        new (require('winston-daily-rotate-file'))({
            filename: `${logDir}/-results.log`,
            timestamp: function() {
                return Date();
            },
            datePattern: 'dd-MM-yyyy',
            prepend: true,
            level: 'debug',
            label : getUserID
        })
    ]
});
module.exports = logger;