/**
 * Created by rajasekhar on 12-Jul-17.
 */
const openamAgent = require('openam-agent');
const runConfig = require('run-config');
const logger = require('logger');
const config = {
    "serverUrl": runConfig.openam.serverUrl
};
try {
    var agent = openamAgent(config);
    //need to have customized cookie shield  ,
    logger.info('enabled sso for develoepr companion app')
    module.exports = agent.shield(openamAgent.cookieShield({getProfiles: true}));;
}catch (error) {
    logger.error(error);
    logger.error('Unable to enable the SSO for  develoepr companion app')
    module.exports = undefined;
}
